#include <pybind11/pybind11.h>
#include <pybind11/stl.h>
#include "MuSR_td_PSI_bin.h"

#define STRINGIFY(x) #x
#define MACRO_STRINGIFY(x) STRINGIFY(x)

// ----------------
// Python interface
// ----------------

namespace py = pybind11;

PYBIND11_MODULE(musr2py,m)
{
  m.doc() = "musr2py is a simple wrapper around MuSR_td_PSI_bin to read bin files in python.";

  py::class_<MuSR_td_PSI_bin>(m, "MuSR_td_PSI_bin")
  .def(py::init<>())
  // autogenerated by parse.py
  $generatedcode

  .def("__repr__",
    [](const MuSR_td_PSI_bin &a) {
      return "<musr2py.MuSR_td_PSI_bin>";
    }
  );
#ifdef VERSION_INFO
  m.attr("__version__") = MACRO_STRINGIFY(VERSION_INFO);
#else
  m.attr("__version__") = "dev";
#endif
}
